<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Image Puzzle Hover Reveal</title>
  <style>
    .container {
      position: relative;
      width: 500px;
      height: 500px;
      margin: 50px auto;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      width: 100%;
      height: 100%;
      gap: 2px;
      z-index: 2;
      position: relative;
    }

    .piece {
      width: 100px;
      height: 100px;
      background-color: #ddd;
      position: relative;
      overflow: hidden;
    }

    .piece .overlay {
      position: absolute;
      width: 500px;
      height: 500px;
      top: 0;
      left: 0;
      background-image: url('/image/lannh.jpg'); /* Thay bằng ảnh thật */
      background-size: 500px 500px;
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }

    .piece.hovered .overlay {
      opacity: 1;
    }

    .full-image {
      position: absolute;
      top: 0;
      left: 0;
      width: 500px;
      height: 500px;
      background-image: url('/image/lannh.jpg');
      background-size: cover;
      background-position: center;
      opacity: 0;
      transition: opacity 0.5s ease;
      z-index: 1;
      pointer-events: none;
    }

    .full-image.visible {
      opacity: 1;
      z-index: 3;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="grid" id="grid"></div>
    <div class="full-image" id="fullImage"></div>
  </div>

  <script>
    const grid = document.getElementById('grid');
    const fullImage = document.getElementById('fullImage');
    const totalPieces = 25;
    let hoveredPieces = new Set();

    for (let y = 0; y < 5; y++) {
      for (let x = 0; x < 5; x++) {
        const piece = document.createElement('div');
        piece.className = 'piece';

        const overlay = document.createElement('div');
        overlay.className = 'overlay';
        overlay.style.backgroundPosition = `${-x * 100}px ${-y * 100}px`;

        piece.appendChild(overlay);

        piece.addEventListener('mouseenter', () => {
          piece.classList.add('hovered');
          hoveredPieces.add(`${x}-${y}`);

          if (hoveredPieces.size === totalPieces) {
            fullImage.classList.add('visible');
          }
        });

        grid.appendChild(piece);
      }
    }
  </script>
</body>
</html>
